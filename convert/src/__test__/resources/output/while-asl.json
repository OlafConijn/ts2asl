{
  "StartAt": "Initialize",
  "States": {
    "Initialize": {
      "Type": "Pass",
      "ResultPath": "$",
      "Parameters": {
        "vars.$": "$$.Execution.Input"
      },
      "Next": "Assign Result"
    },
    "Assign Result": {
      "Type": "Task",
      "ResultPath": "$.vars.result",
      "Resource": "check-password",
      "Parameters": {},
      "Catch": [],
      "Retry": [],
      "Next": "While"
    },
    "While": {
      "Type": "Parallel",
      "Branches": [
        {
          "StartAt": "_WhileCondition",
          "States": {
            "_WhileCondition": {
              "Type": "Choice",
              "Choices": [
                {
                  "Variable": "$",
                  "IsNull": false,
                  "Next": "If"
                }
              ],
              "Default": "_WhileExit"
            },
            "If": {
              "Type": "Choice",
              "Choices": [
                {
                  "Variable": "$.vars.result.Authorized",
                  "IsPresent": true,
                  "Next": "Succeed"
                }
              ],
              "Comment": "source: if (result.Authorized) { break; }",
              "Default": "Wait"
            },
            "Succeed": {
              "Type": "Succeed"
            },
            "Wait": {
              "Type": "Wait",
              "Seconds": 1,
              "Next": "Assign Result_1"
            },
            "Assign Result_1": {
              "Type": "Task",
              "ResultPath": "$.vars.result",
              "Resource": "check-password",
              "Parameters": {},
              "Catch": [],
              "Retry": [],
              "Next": "_WhileExit"
            },
            "_WhileExit": {
              "Type": "Succeed"
            }
          },
          "Parameters": {
            "vars": {
              "result.$": "$.vars.result"
            }
          }
        }
      ],
      "End": true
    }
  }
}